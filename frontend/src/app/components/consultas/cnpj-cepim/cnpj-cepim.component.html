<mat-card class="card-principal">
    <mat-card-header>
        <mat-card-title>Cepim</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <table mat-table [dataSource]="cepim" multiTemplateDataRows>

            <ng-container matColumnDef="pessoaJuridica.nome">
                <th mat-header-cell *matHeaderCellDef> nome </th>
                <td mat-cell *matCellDef="let element"> {{ element.pessoaJuridica.nome }} </td>
            </ng-container>

            <ng-container matColumnDef="pessoaJuridica.nomeFantasiaReceita">
                <th mat-header-cell *matHeaderCellDef> Nome Fantasia </th>
                <td mat-cell *matCellDef="let element"> {{ element.pessoaJuridica.nomeFantasiaReceita }} </td>
            </ng-container>

            <ng-container matColumnDef="pessoaJuridica.cnpjFormatado">
                <th mat-header-cell *matHeaderCellDef> CNPJ </th>
                <td mat-cell *matCellDef="let element"> {{ element.pessoaJuridica.cnpjFormatado }} </td>
            </ng-container>

            <ng-container matColumnDef="pessoaJuridica.numeroInscricaoSocial">
                <th mat-header-cell *matHeaderCellDef> Inscricao Estadual </th>
                <td mat-cell *matCellDef="let element"> {{ element.pessoaJuridica.numeroInscricaoSocial }} </td>
            </ng-container>

            <ng-container matColumnDef="pessoaJuridica.razaoSocialReceita">
                <th mat-header-cell *matHeaderCellDef> Razao Social </th>
                <td mat-cell *matCellDef="let element"> {{ element.pessoaJuridica.razaoSocialReceita }} </td>
            </ng-container>

            <ng-container matColumnDef="pessoaJuridica.tipo">
                <th mat-header-cell *matHeaderCellDef> Tipo </th>
                <td mat-cell *matCellDef="let element"> {{ element.pessoaJuridica.tipo }} </td>
            </ng-container>

            <ng-container matColumnDef="motivo">
                <th mat-header-cell *matHeaderCellDef> Motivo </th>
                <td mat-cell *matCellDef="let element"> {{ element.motivo }} </td>
            </ng-container>

            <ng-container matColumnDef="dataReferencia">
                <th mat-header-cell *matHeaderCellDef> Data Referencia </th>
                <td mat-cell *matCellDef="let element"> {{ element.dataReferencia }} </td>
            </ng-container>




            <ng-container matColumnDef="expand">
                <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button aria-label="expand row" (click)="
                expandedElement = expandedElement === element ? null : element;
                $event.stopPropagation()
              ">
                        <mat-icon *ngIf="expandedElement !== element">keyboard_arrow_down</mat-icon>
                        <mat-icon *ngIf="expandedElement === element">keyboard_arrow_up</mat-icon>
                    </button>
                </td>
            </ng-container>


            <ng-container matColumnDef="expandedDetail">
                <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplayWithExpand.length">
                    <div class="example-element-detail"
                        [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">

                        <div class="card-secundarios">

                            <mat-card>
                                <mat-card-header>
                                    <mat-card-title>Convenio: </mat-card-title>
                                </mat-card-header>
                                <mat-card-actions class="card">

                                    <table>
                                        <tr>
                                            <td>codigo:</td>
                                            <td>{{element.convenio.codigo}}</td>
                                        </tr>
                                        <tr>
                                            <td>numero:</td>
                                            <td>{{element.convenio.numero}}</td>
                                        </tr>
                                        <tr>
                                            <td>Objeto:</td>
                                            <td>{{element.convenio.objeto}}</td>
                                        </tr>

                                    </table>

                                </mat-card-actions>
                            </mat-card>



                            <mat-card>
                                <mat-card-header>
                                    <mat-card-title>orgaoMaximo: </mat-card-title>
                                </mat-card-header>
                                <mat-card-actions class="card">

                                    <table>
                                        <tr>
                                            <td>codigo:</td>
                                            <td>{{element.orgaoSuperior.orgaoMaximo.codigo}}</td>
                                        </tr>
                                        <tr>
                                            <td>nome:</td>
                                            <td>{{element.orgaoSuperior.orgaoMaximo.nome}}</td>
                                        </tr>
                                        <tr>
                                            <td>sigla:</td>
                                            <td>{{element.orgaoSuperior.orgaoMaximo.sigla}}</td>
                                        </tr>

                                    </table>

                                </mat-card-actions>
                            </mat-card>

                            <mat-card>
                                <mat-card-header>
                                    <mat-card-title>orgaoSuperior: </mat-card-title>
                                </mat-card-header>
                                <mat-card-actions class="card">

                                    <table>
                                        <tr>
                                            <td>nome:</td>
                                            <td>{{element.orgaoSuperior.nome}}</td>
                                        </tr>

                                        <tr>
                                            <td>descricaoPoder:</td>
                                            <td>{{element.orgaoSuperior.descricaoPoder}}</td>
                                        </tr>

                                        <tr>
                                            <td>sigla:</td>
                                            <td>{{element.orgaoSuperior.sigla}}</td>
                                        </tr>
                                        <tr>
                                            <td>cnpj:</td>
                                            <td>{{element.orgaoSuperior.cnpj}}</td>
                                        </tr>
                                        <tr>
                                            <td>codigoSIAFI:</td>
                                            <td>{{element.orgaoSuperior.codigoSIAFI}}</td>
                                        </tr>




                                    </table>

                                </mat-card-actions>
                            </mat-card>

                            <!-- <mat-card>
                                <mat-card-header>
                                    <mat-card-title>pessoaJuridica: </mat-card-title>
                                </mat-card-header>
                                <mat-card-actions>

                                    <table>
                                        <tr>
                                            <td>cnpjFormatado:</td>
                                            <td>{{element.pessoaJuridica.cnpjFormatado}}</td>
                                        </tr>
                                        <tr>
                                            <td>cpfFormatado:</td>
                                            <td>{{element.pessoaJuridica.cpfFormatado}}</td>
                                        </tr>
                                        <tr>
                                            <td>id:</td>
                                            <td>{{element.pessoaJuridica.id}}</td>
                                        </tr>
                                        <tr>
                                            <td>nome:</td>
                                            <td>{{element.pessoaJuridica.nome}}</td>
                                        </tr>
                                        <tr>
                                            <td>nomeFantasiaReceita:</td>
                                            <td>{{element.pessoaJuridica.nomeFantasiaReceita}}</td>
                                        </tr>
                                        <tr>
                                            <td>numeroInscricaoSocial:</td>
                                            <td>{{element.pessoaJuridica.numeroInscricaoSocial}}</td>
                                        </tr>
                                        <tr>
                                            <td>razaoSocialReceita:</td>
                                            <td>{{element.pessoaJuridica.razaoSocialReceita}}</td>
                                        </tr>
                                        <tr>
                                            <td>tipo:</td>
                                            <td>{{element.pessoaJuridica.tipo}}</td>
                                        </tr>

                                    </table>

                                </mat-card-actions>
                            </mat-card> -->

                        </div>
                    </div>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithExpand"></tr>
            <tr mat-row *matRowDef="let element; columns: columnsToDisplayWithExpand" class="example-element-row"
                [class.example-expanded-row]="expandedElement === element"
                (click)="expandedElement = expandedElement === element ? null : element"></tr>
            <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
        </table>
    </mat-card-content>
</mat-card>